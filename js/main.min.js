const letterLink=document.querySelector(".button--write-us"),letterPopup=document.querySelector(".modal-letter"),letterClose=document.querySelector(".modal-close"),letterForm=document.querySelector(".letter"),letterMail=document.querySelector(".letter-mail"),letterText=document.querySelector("letter-text"),letterName=document.querySelector(".user-name");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}letterLink&&(letterLink.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.add("modal-show"),storage?(letterName.value=storage,letterMail.focus()):letterName.focus()}),letterClose.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error")}),letterForm.addEventListener("submit",function(e){letterMail.value&&letterName.value&&letterText.value?isStorageSupport&&localStorage.setItem("name",letterName.value):(e.preventDefault(),letterPopup.classList.remove("modal-error"),letterPopup.offsetWidth=letterPopup.offsetWidth,letterPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&letterPopup.classList.contains("modal-show")&&(e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error"))}));const mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".close-map"),mapLink=document.querySelector(".map-link");mapLink&&(mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show"),mapPopup.classList.contains("modal-show")&&mapClose.focus()}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))}));const buyLinks=document.querySelectorAll(".buy--button"),orderPopup=document.querySelector(".modal-order"),orderClose=document.querySelector(".order-close"),shopping=document.querySelector(".continue-shopping");for(i=0;i<=buyLinks.length-1;++i)buyLinks[i].addEventListener("click",function(e){e.preventDefault(e),orderPopup.classList.add("modal-show"),orderPopup.classList.contains("modal-show")&&orderClose.focus()});orderClose.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.remove("modal-show")}),shopping.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&orderPopup.classList.contains("modal-show")&&(e.preventDefault(),orderPopup.classList.remove("modal-show"))});const infoButtons=document.querySelectorAll(".info-list a");infoButtons.forEach(function(r){r.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-tab");const t=document.querySelector('.description[data-tab="'+e+'"]'),o=document.querySelector(".clicked"),s=document.querySelector(".description--active");o.classList.remove("clicked"),r.classList.add("clicked"),s.classList.remove("description--active"),t.classList.add("description--active")})});const slider=document.querySelector(".slider");if(slider){let t=0;const u=Array.from(slider.querySelectorAll(".slider-item")),v=Array.from(slider.querySelectorAll(".slider-dots-button")),w=slider.querySelector(".slider-nav--prev"),x=slider.querySelector(".slider-nav--next"),y=()=>{0===Number(t)?(x.removeAttribute("disabled"),w.setAttribute("disabled","")):Number(t)===u.length-1?(w.removeAttribute("disabled"),x.setAttribute("disabled","")):(w.removeAttribute("disabled"),x.removeAttribute("disabled"))};y();const z=()=>{0<t&&(t--,y(),u[t+1].classList.remove("slider-item--active"),u[t].classList.add("slider-item--active"),v[t+1].classList.remove("slider-dots-button--active"),v[t].classList.add("slider-dots-button--active"))},A=()=>{t<u.length-1&&(t++,y(),u[t-1].classList.remove("slider-item--active"),u[t].classList.add("slider-item--active"),v[t-1].classList.remove("slider-dots-button--active"),v[t].classList.add("slider-dots-button--active"))},B=()=>{y(),u.forEach(e=>{e.classList.remove("slider-item--active")}),v.forEach(e=>{e.classList.remove("slider-dots-button--active")}),u[t].classList.add("slider-item--active"),v[t].classList.add("slider-dots-button--active")},C=e=>{switch(e){case"PREV":z();break;case"NEXT":A();break;case"DOTS":B()}};w.addEventListener("click",()=>{C("PREV")}),x.addEventListener("click",()=>{C("NEXT")}),v.forEach(e=>{e.addEventListener("click",()=>{t=e.dataset.slide,C("DOTS")})})}
