const letterLink=document.querySelector(".button--write-us"),letterPopup=document.querySelector(".modal-letter"),letterClose=document.querySelector(".modal-close"),letterForm=document.querySelector(".letter"),letterMail=document.querySelector(".letter-mail"),letterText=document.querySelector("letter-text"),letterName=document.querySelector(".user-name");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}letterLink&&(letterLink.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.add("modal-show"),storage?(letterName.value=storage,letterMail.focus()):letterName.focus()}),letterClose.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error")}),letterForm.addEventListener("submit",function(e){letterMail.value&&letterName.value&&letterText.value?isStorageSupport&&localStorage.setItem("name",letterName.value):(e.preventDefault(),letterPopup.classList.remove("modal-error"),letterPopup.offsetWidth=letterPopup.offsetWidth,letterPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&letterPopup.classList.contains("modal-show")&&(e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error"))}));const mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".close-map"),mapLink=document.querySelector(".map-link");mapLink&&(mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show"),mapPopup.classList.contains("modal-show")&&mapClose.focus()}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))}));const buyLinks=document.querySelectorAll(".buy--button"),orderPopup=document.querySelector(".modal-order"),orderClose=document.querySelector(".order-close"),shopping=document.querySelector(".continue-shopping");for(i=0;i<=buyLinks.length-1;++i)buyLinks[i].addEventListener("click",function(e){e.preventDefault(e),orderPopup.classList.add("modal-show"),orderPopup.classList.contains("modal-show")&&orderClose.focus()});orderClose.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.remove("modal-show")}),shopping.addEventListener("click",function(e){e.preventDefault(),orderPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&orderPopup.classList.contains("modal-show")&&(e.preventDefault(),orderPopup.classList.remove("modal-show"))});const infoButtons=document.querySelectorAll(".info-list a");infoButtons.forEach(function(l){l.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-tab");const t=document.querySelector('.description[data-tab="'+e+'"]'),o=document.querySelector(".clicked"),r=document.querySelector(".description--active");o.classList.remove("clicked"),l.classList.add("clicked"),r.classList.remove("description--active"),t.classList.add("description--active")})});
